{"ast":null,"code":"import { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../employee.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../nav-bar/nav-bar.component\";\nconst _c0 = function (a1) {\n  return [\"edit/\", a1];\n};\nfunction EmployeesListComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 6);\n    i0.ɵɵtext(9, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function EmployeesListComponent_tr_17_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const employee_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteEmployee(employee_r1._id || \"\"));\n    });\n    i0.ɵɵtext(11, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const employee_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r1.position);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r1.level);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c0, employee_r1._id));\n  }\n}\nconst _c1 = function () {\n  return [\"new\"];\n};\nexport class EmployeesListComponent {\n  constructor(employeesService) {\n    this.employeesService = employeesService;\n    this.employees$ = new Observable();\n  }\n  ngOnInit() {\n    this.fetchEmployees();\n  }\n  deleteEmployee(id) {\n    this.employeesService.deleteEmployee(id).subscribe({\n      next: () => this.fetchEmployees()\n    });\n  }\n  fetchEmployees() {\n    this.employees$ = this.employeesService.getEmployees();\n  }\n}\nEmployeesListComponent.ɵfac = function EmployeesListComponent_Factory(t) {\n  return new (t || EmployeesListComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService));\n};\nEmployeesListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EmployeesListComponent,\n  selectors: [[\"app-employees-list\"]],\n  decls: 21,\n  vars: 5,\n  consts: [[1, \"hero\"], [1, \"text-center\", \"m-5\"], [1, \"container-md\"], [1, \"table\", \"table-striped\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", \"mt-3\", 3, \"routerLink\"], [1, \"btn\", \"btn-primary\", \"me-1\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function EmployeesListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-nav-bar\")(1, \"div\", 0);\n      i0.ɵɵelementStart(2, \"h2\", 1);\n      i0.ɵɵtext(3, \"Employees List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"table\", 3)(6, \"thead\")(7, \"tr\")(8, \"th\");\n      i0.ɵɵtext(9, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Position\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Level\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"tbody\");\n      i0.ɵɵtemplate(17, EmployeesListComponent_tr_17_Template, 12, 6, \"tr\", 4);\n      i0.ɵɵpipe(18, \"async\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"button\", 5);\n      i0.ɵɵtext(20, \"Add a New Employee\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(18, 2, ctx.employees$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c1));\n    }\n  },\n  dependencies: [i2.NgForOf, i3.RouterLink, i4.NavBarComponent, i2.AsyncPipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AACA,SAASA,UAAU,QAAQ,MAAM;;;;;;;;;;;;IAuBtBC,0BAAgD;IACxCA,YAAiB;IAAAA,iBAAK;IAC1BA,0BAAI;IAAAA,YAAqB;IAAAA,iBAAK;IAC9BA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IAC4EA,oBAAI;IAAAA,iBAAS;IACzFA,kCAA4E;IAA7CA;MAAA;MAAA;MAAA;MAAA,OAASA,wDAA+B,EAAE,CAAC;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;IAL3FA,eAAiB;IAAjBA,sCAAiB;IACjBA,eAAqB;IAArBA,0CAAqB;IACrBA,eAAkB;IAAlBA,uCAAkB;IAEmBA,eAAsC;IAAtCA,wEAAsC;;;;;;AAa9F,OAAM,MAAOC,sBAAsB;EAGlCC,YAAoBC,gBAAiC;IAAjC,qBAAgB,GAAhBA,gBAAgB;IAFpC,eAAU,GAA2B,IAAIJ,UAAU,EAAE;EAEI;EAEzDK,QAAQ;IACN,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAC,cAAc,CAACC,EAAU;IACvB,IAAI,CAACJ,gBAAgB,CAACG,cAAc,CAACC,EAAE,CAAC,CAACC,SAAS,CAAC;MACjDC,IAAI,EAAE,MAAM,IAAI,CAACJ,cAAc;KAChC,CAAC;EACJ;EAEQA,cAAc;IACpB,IAAI,CAACK,UAAU,GAAG,IAAI,CAACP,gBAAgB,CAACQ,YAAY,EAAE;EACxD;;AAjBYV,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;QAAtBA,sBAAsB;EAAAW;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MAlClChB,8BAA4B;MAG1BA,6BAA4B;MAAAA,8BAAc;MAAAA,iBAAK;MAC/CA,8BAA0B;MAIVA,oBAAI;MAAAA,iBAAK;MACbA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MACdA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MAIvBA,8BAAO;MACHA,wEAQK;;MACTA,iBAAQ;MAGZA,kCAA4D;MAAAA,mCAAkB;MAAAA,iBAAS;;;MAZtDA,gBAAqB;MAArBA,+DAAqB;MAYjBA,eAAsB;MAAtBA,uDAAsB","names":["Observable","i0","EmployeesListComponent","constructor","employeesService","ngOnInit","fetchEmployees","deleteEmployee","id","subscribe","next","employees$","getEmployees","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["F:\\Full stack devolopment 2\\mean-stack\\mean-stack-example\\client\\src\\app\\employees-list\\employees-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Employee } from '../employee';\nimport { EmployeeService } from '../employee.service';\n \n@Component({\n selector: 'app-employees-list',\n template: `\n <app-nav-bar> </app-nav-bar>\n <div class=\"hero\"></div>\n\n   <h2 class=\"text-center m-5\">Employees List</h2>\n   <div class=\"container-md\">\n   <table class=\"table table-striped table-bordered\">\n       <thead>\n           <tr>\n               <th>Name</th>\n               <th>Position</th>\n               <th>Level</th>\n               <th>Action</th>\n           </tr>\n       </thead>\n \n       <tbody>\n           <tr *ngFor=\"let employee of employees$ | async\">\n               <td>{{employee.name}}</td>\n               <td>{{employee.position}}</td>\n               <td>{{employee.level}}</td>\n               <td>\n                   <button class=\"btn btn-primary me-1\" [routerLink]=\"['edit/', employee._id]\">Edit</button>\n                   <button class=\"btn btn-danger\" (click)=\"deleteEmployee(employee._id || '')\">Delete</button>\n               </td>\n           </tr>\n       </tbody>\n   </table>\n  \n   <button class=\"btn btn-primary mt-3\" [routerLink]=\"['new']\">Add a New Employee</button>\n   </div>\n `\n stylesurls: [\n]\n})\nexport class EmployeesListComponent implements OnInit {\n employees$: Observable<Employee[]> = new Observable();\n \n constructor(private employeesService: EmployeeService) { }\n \n ngOnInit(): void {\n   this.fetchEmployees();\n }\n \n deleteEmployee(id: string): void {\n   this.employeesService.deleteEmployee(id).subscribe({\n     next: () => this.fetchEmployees()\n   });\n }\n \n private fetchEmployees(): void {\n   this.employees$ = this.employeesService.getEmployees();\n }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}